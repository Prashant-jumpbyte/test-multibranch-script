pipeline {
    agent any

    stages {
        stage('Pull') {
            steps {
                echo 'Building..'
                sh  'ls -al'
                sh ". ~/.nvm/nvm.sh"
                sh ". ~/.profile"
                sh ". ~/.bashrc"
            sh " if [ ! -d ~/.nvm ]; then"
                sh "curl https://raw.githubusercontent.com/creationix/nvm/v0.11.1/install.sh | bash"
                sh "source ~/.nvm/nvm.sh"
                sh "source ~/.profile"
                sh "source ~/.bashrc"
                sh "nvm install 5.0"
                sh "npm install"
                sh "npm run front"
                sh "nvm install 6.9.1"
                sh "nvm list"
                sh "nvm use 6.9.1"
                sh "nvm alias default 6.9.1"
            sh "fi"
                sh "nvm install 6.9.1"
                sh "nvm list"
                sh "nvm use 6.9.1"
                sh "nvm alias default 6.9.1"
                sh "node -v"
            }
        }
        stage('Build') {
            steps {
                
                echo 'Testing..'
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying....'
            }
        }
    }
}
